function ahoy_key(e){if(e&&(e.key||e.keyCode)){var t="";if("Enter"===e.key||13===e.keyCode?t="fullscreen":"Left"===e.key||"ArrowLeft"===e.key||37===e.keyCode?t="prev":"Right"===e.key||"ArrowRight"===e.key||39===e.keyCode?t="next":"Up"===e.key||"ArrowUp"===e.key||38===e.keyCode?t="up":"Down"===e.key||"ArrowDown"===e.key||40===e.keyCode?t="down":"0"===e.key||48===e.keyCode?t="0":"1"===e.key||49===e.keyCode?t="1":"2"===e.key||50===e.keyCode?t="2":"3"===e.key||51===e.keyCode?t="3":"4"===e.key||52===e.keyCode?t="4":"5"===e.key||53===e.keyCode?t="5":"6"===e.key||54===e.keyCode?t="6":"7"===e.key||55===e.keyCode?t="7":"8"===e.key||56===e.keyCode?t="8":"9"!==e.key&&57!==e.keyCode||(t="9"),!t||"up"!==t&&"down"!==t)if(t&&"fullscreen"===t)fullscreen();else{var o=document.querySelectorAll('[data-event]:not([style*="display:none"]):not([style*="display: none"]');if(o&&o.length)for(var a=0;a<o.length;a++)if(t&&o[a].dataset.event===t&&"function"==typeof o[a].onclick)return void o[a].onclick.apply(o[a])}else{var n=document.querySelector(".yohoho-active");if(console.log(t,n.dataset.event,n&&n.dataset&&n.dataset.event&&parseInt(n.dataset.event)),n&&n.dataset&&n.dataset.event&&parseInt(n.dataset.event)){var r="up"===t?document.querySelector('[data-event="'+(parseInt(n.dataset.event)-1)+'"]:not([style*="display:none"]):not([style*="display: none"]'):document.querySelector('[data-event="'+(parseInt(n.dataset.event)+1)+'"]:not([style*="display:none"]):not([style*="display: none"]');if(r||"up"!==t)if(r||"down"!==t)r&&"function"==typeof r.onclick&&r.onclick.apply(r);else{var i=document.querySelector('[data-event="next"]:not([style*="display:none"]):not([style*="display: none"]');i&&"function"==typeof i.onclick&&i.onclick.apply(i)}else{var s=document.querySelector('[data-event="prev"]:not([style*="display:none"]):not([style*="display: none"]');s&&"function"==typeof s.onclick&&s.onclick.apply(s)}}}}}function ahoy_yo(){var e=document.querySelectorAll("[data-ahoy]");if(e&&e.length)for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].addEventListener("click",function(){yo(this)});else yo()}function yo(e){var t,o,a,n,r,i,s,l=!1,u="",d=e&&e.getAttribute("data-ahoy")?e.getAttribute("data-ahoy"):"yohoho";if(!(i=document.querySelector("#"+d))&&!(i=document.querySelector("#yohoho-online"))){if(!(i=document.querySelector("#yohoho-torrent")))return!1;l=!0}for(var g=document.createElement("div"),y=Array.prototype.slice.call(i.attributes);o=y.pop();)g.setAttribute(o.nodeName,o.nodeValue);g.innerHTML=i.innerHTML,i.parentNode.replaceChild(g,i);var f=[].slice.call(g.attributes).reduce(function(e,t){return/^data-/.test(t.name)&&(e[t.name.substr(5)]=decodeURIComponent(t.value)),e},{});e&&e.attributes&&[].slice.call(e.attributes).reduce(function(e,t){/^data-/.test(t.name)&&(f[t.name.substr(5)]=decodeURIComponent(t.value))},{}),(f.title&&/трейлер|trailer|teaser/i.test(f.title)||l)&&(f.player="trailer"),f.player=f.title&&/трейлер|trailer|teaser/i.test(f.title)||l?"trailer":f.player?f.player:"videocdn,collaps,iframe,hdvb,kodik";var c=f.bg&&f.bg.replace(/[^0-9a-z]/gi,"")?f.bg.replace(/[^0-9a-z]/gi,""):"2A3440",I=f.language&&!/ru/i.test(f.language)?{trailer:"TRAILER",torrent:"DOWNLOAD",next:"NEXT",prev:"PREV"}:{trailer:"ТРЕЙЛЕР",torrent:"СКАЧАТЬ",next:"ВПЕРЕД",prev:"НАЗАД"},A={};for(var p in f.button=f.button?f.button:"videocdn: {Q} {T}, hdvb: {Q} {T}, kodik: {Q} {T}, iframe: {Q} {T}",f.button&&f.button.split(",").forEach(function(e){var t=e.split(":");2===t.length&&t[0]&&t[1]&&(A[t[0].trim().toLowerCase()]=t[1].trim())}),f.button_limit=f.button_limit&&parseInt(f.button_limit)<8?parseInt(f.button_limit):8,f.button_size=f.button_size&&parseFloat(f.button_size)?parseFloat(f.button_size):1,f.separator=f.separator?f.separator:",",f)f.hasOwnProperty(p)&&f[p]?u+=u?"&"+p+"="+encodeURIComponent(f[p]):p+"="+encodeURIComponent(f[p]):f[p]="";if(!(f.kinopoisk||f.title||f.imdb||f.tmdb))return!1;f.tv&&document.addEventListener("keydown",ahoy_key),f.resize&&(window.addEventListener("orientationchange",resize,!1),window.addEventListener("resize",resize,!1));var M=document.querySelector("#yohoho-loading");M&&M.parentNode.removeChild(M);var h=document.querySelector("#yohoho-buttons");h&&h.parentNode.removeChild(h);var m=document.querySelector("#yohoho-iframe");m&&m.parentNode.removeChild(m);var C=document.querySelectorAll("[data-ahoy]");for(var L in C)if(C.hasOwnProperty(L)&&C[L]){var v=document.querySelector("#"+C[L].getAttribute("data-ahoy"));v&&v.removeAttribute("style")}var N=document.head||document.getElementsByTagName("head")[0],T="#yohoho-loading{z-index:9999;position:absolute;left:0;top:0;width:100%;height:100%;background:#"+c+" url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtc3BpcmFsIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgY2xhc3M9ImJrIiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTU0LjUgODkuOWMtOS42IDAtMTguNi0zLjktMjUuNC0xMSAtNi44LTcuMS0xMC41LTE2LjYtMTAuNS0yNi43IDAtOC45IDMuMy0xNy4yIDkuMi0yMy41UzQxLjcgMTkgNTAuMiAxOWM4LjQgMCAxNi40IDMuNCAyMi4zIDkuNyA2IDYuMyA5LjIgMTQuNiA5LjIgMjMuNSAwIDE1LjgtMTIuMiAyOC43LTI3LjMgMjguNyAtMTUgMC0yNy4zLTEyLjktMjcuMy0yOC43IDAtMTMuMyAxMC4zLTI0LjIgMjMtMjQuMnMyMyAxMC44IDIzIDI0LjJjMCAxMC44LTguNCAxOS42LTE4LjcgMTkuNiAtMTAuMyAwLTE4LjctOC44LTE4LjctMTkuNiAwLTguMyA2LjUtMTUuMSAxNC40LTE1LjEgNy45IDAgMTQuNCA2LjggMTQuNCAxNS4xIDAgNS44LTQuNSAxMC42LTEwLjEgMTAuNnMtMTAuMS00LjgtMTAuMS0xMC42YzAtMy40IDIuNi02LjEgNS44LTYuMSAzLjIgMCA1LjggMi43IDUuOCA2LjEgMCAwLjktMC43IDEuNi0xLjUgMS42IC0wLjggMC0xLjUtMC43LTEuNS0xLjYgMC0xLjYtMS4zLTIuOS0yLjgtMi45IC0xLjUgMC0yLjggMS4zLTIuOCAyLjkgMCA0LjEgMy4yIDcuNCA3LjEgNy40czcuMS0zLjMgNy4xLTcuNGMwLTYuNi01LjEtMTItMTEuNC0xMiAtNi4zIDAtMTEuNCA1LjQtMTEuNCAxMiAwIDkuMSA3IDE2LjUgMTUuNyAxNi41IDguNiAwIDE1LjctNy40IDE1LjctMTYuNSAwLTExLjYtOS0yMS0yMC0yMXMtMjAgOS40LTIwIDIxYzAgMTQuMSAxMC45IDI1LjUgMjQuMyAyNS41czI0LjMtMTEuNCAyNC4zLTI1LjVjMC0xNi42LTEyLjgtMzAtMjguNi0zMCAtMTUuOCAwLTI4LjYgMTMuNS0yOC42IDMwIDAgOS4yIDMuNCAxNy45IDkuNiAyNC40IDYuMiA2LjUgMTQuNSAxMC4xIDIzLjIgMTAuMXMxNy0zLjYgMjMuMi0xMC4xYzYuMi02LjUgOS42LTE1LjIgOS42LTI0LjQgMC0xMC40LTMuOS0yMC4yLTEwLjktMjcuNiAtNy03LjQtMTYuMy0xMS40LTI2LjMtMTEuNHMtMTkuMyA0LjEtMjYuMyAxMS40UzEzIDQxLjggMTMgNTIuMmMwIDAuOS0wLjcgMS42LTEuNSAxLjZTMTAgNTMuMSAxMCA1Mi4yYzAtMTEuMyA0LjItMjEuOSAxMS44LTI5LjkgNy42LTggMTcuNy0xMi40IDI4LjQtMTIuNCAxMC43IDAgMjAuOCA0LjQgMjguNCAxMi40IDcuNiA4IDExLjggMTguNiAxMS44IDI5LjkgMCAxMC4xLTMuNyAxOS41LTEwLjUgMjYuN0M3My4xIDg2IDY0LjEgODkuOSA1NC41IDg5Ljl6IiBmaWxsPSIjZmZmIj48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZnJvbT0iMCA1MCA1MCIgdG89IjM2MCA1MCA1MCIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L3BhdGg+PC9zdmc+) 50% 50% no-repeat}#yohoho-buttons{position:absolute;z-index:9999;right:0;top:50px;text-align:left}#yohoho-buttons:hover{right:0!important}#yohoho-buttons div{font-family:Verdana,sans-serif;font-weight:normal;text-shadow:none;line-height:normal;font-size:"+12*f.button_size+"px;color:#fff;background:#"+c+";border-radius:5px 0 0 5px;padding:5px;margin:5px 0 5px 5px;opacity:.7;}#yohoho-buttons div:hover,#yohoho-buttons div.yohoho-active{color:#fff;background:#"+c+";cursor:pointer;opacity:1}";(s=document.createElement("style")).type="text/css",s.styleSheet?s.styleSheet.cssText=T:s.appendChild(document.createTextNode(T)),N.appendChild(s),(r=document.createElement("div")).setAttribute("id","yohoho-loading"),g.innerHTML="",g.appendChild(r),(n=document.createElement("iframe")).setAttribute("id","yohoho-iframe"),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","allowfullscreen"),g.appendChild(n);var x="width:"+(a=parseInt(g.offsetWidth)?parseInt(g.offsetWidth):g.parentNode&&parseInt(g.parentNode.offsetWidth)?parseInt(g.parentNode.offsetWidth):610)+"px;height:"+(t=parseInt(g.offsetHeight)&&parseInt(g.offsetHeight)<370?g.parentNode&&parseInt(g.parentNode.offsetHeight)&&370<=parseInt(g.parentNode.offsetHeight)?parseInt(g.parentNode.offsetHeight):370:parseInt(g.offsetHeight)&&a/3<parseInt(g.offsetHeight)?parseInt(g.offsetHeight):g.parentNode&&parseInt(g.parentNode.offsetHeight)&&a/3<parseInt(g.parentNode.offsetHeight)?parseInt(g.parentNode.offsetHeight):a/2)+"px;border:0;margin:0;padding:0;overflow:hidden;position:relative";n.setAttribute("style",x),n.setAttribute("width",a),n.setAttribute("height",t),g.setAttribute("style",x),httpGetAsync("https://ahoy.yohoho.online",u,function(e){var t=!0,o=document.createElement("div");o.setAttribute("id","yohoho-buttons");var a=f.player.split(f.separator);if(/\/\/|%2F%2F/i.test(f.player)){for(var n=[],r=0;r<a.length;r++){var i=a[r].match(/^(.*?)(http.*|\/\/.*)$/i);i&&i[1]&&i[1].trim()&&n.push(i[1].trim())}a=n.length?n:Object.keys(e)}for(var s=0,l=0,u=a.length;l<u;l++){var d=a[l].toLowerCase().trim();if(e.hasOwnProperty(d)&&e[d]&&e[d].iframe){if("moonwalk"===d){if(f.start_episode){var y=f.start_episode.match(/^([a-z0-9]*?)\|([0-9]*?)\|([0-9]*?)$/i);y&&4===y.length&&(e[d].iframe=e[d].iframe.replace(/serial\/([a-z0-9]*?)\//i,"serial/"+y[1]+"/"),e[d].iframe=e[d].iframe.indexOf("?")+1?e[d].iframe+"&season="+y[2]+"&episode="+y[3]:e[d].iframe+"?season="+y[2]+"&episode="+y[3])}f.start_time&&(e[d].iframe=e[d].iframe.indexOf("?")+1?e[d].iframe+"&start_time="+f.start_time:e[d].iframe+"?start_time="+f.start_time)}e[d].quality=e[d].quality?e[d].quality.replace(/"/g,"'"):"",e[d].translate=e[d].translate?e[d].translate.replace(/"/g,"'"):"";var c=document.createElement("div");if(c.setAttribute("onclick",'showPlayer("'+encodeURIComponent(e[d].iframe)+'", "'+e[d].quality+'", "'+e[d].translate+'", this, "'+f.button_size+'")'),c.dataset.event=""+(s+1),c.dataset.page=Math.ceil((s+1)/f.button_limit)+"",c.dataset.iframe=e[d].iframe,c.dataset.quality=e[d].quality,c.dataset.translate=e[d].translate,A.hasOwnProperty(d)&&A[d]){var p=e[d].quality?e[d].quality.toUpperCase().search(/TS|TC|SCR|CAM/gi)+1?"ЭКРАН":e[d].quality.toUpperCase().search(/720P/gi)+1?"720P":e[d].quality.toUpperCase().search(/1080P/gi)+1?"1080P":e[d].quality.toUpperCase().replace(/\s?ХОРОШЕЕ\s?|\s?СРЕДНЕЕ\s?|\s?ПЛОХОЕ\s?/gi,""):"",M=e[d].translate?/ДУБЛ/i.test(e[d].translate)?"ДУБЛЯЖ":/ПРОФ/i.test(e[d].translate)?"ПРОФ.":/ЛЮБИТ/i.test(e[d].translate)?"ЛЮБИТ.":/АВТОР/i.test(e[d].translate)?"АВТОР.":/МНОГОГОЛ/i.test(e[d].translate)?"МНОГОГОЛ.":/ОДНОГОЛ/i.test(e[d].translate)?"ОДНОГОЛ.":/ДВУХГОЛ/i.test(e[d].translate)?"ДВУХГОЛ.":/ОРИГИНАЛ/i.test(e[d].translate)?"ОРИГИНАЛ":/(ENG|ORIG|СУБТ)/i.test(e[d].translate)?f.language&&/en/i.test(f.language)?"ENGLISH":"СУБТИТИРЫ":e[d].translate.toUpperCase():"";s++,A[d]=A[d].replace("{N}",s).replace("{Q}",p).replace("{T}",M).replace(/\s+/g," ").replace(/(^\s*)|(\s*)$/g,""),A[d]=A[d]?A[d]:d.toUpperCase(),c.innerText=s+"► "+A[d]}else"trailer"===d?(s++,c.innerText=s+"► "+I.trailer.toUpperCase()):"torrent"===d?(s++,c.innerText=s+"► "+I.torrent.toUpperCase()):(s++,c.innerText=s+"► "+d.toUpperCase());if(t&&(showPlayer(e[d].iframe,e[d].quality,e[d].translate,c,o,f.button_size),t=!1),o.appendChild(c),s&&!(s%f.button_limit)&&a[l+1]){var h=document.createElement("div");h.setAttribute("onclick","showPage("+Math.ceil((s+1)/f.button_limit)+');showPlayer("'+encodeURIComponent(e[a[l+1].toLowerCase().trim()].iframe)+'", "'+e[a[l+1].toLowerCase().trim()].quality+'", "'+e[a[l+1].toLowerCase().trim()].translate+'", document.querySelector(\'[data-event="'+(s+1)+'"]\'), "'+f.button_size+'")'),h.dataset.event="next",h.dataset.page=Math.ceil(s/f.button_limit)+"",h.innerText="-► "+I.next,o.appendChild(h);var m=document.createElement("div");m.setAttribute("onclick","showPage("+Math.ceil(s/f.button_limit)+');showPlayer("'+encodeURIComponent(e[a[l-1].toLowerCase().trim()].iframe)+'", "'+e[a[l-1].toLowerCase().trim()].quality+'", "'+e[a[l-1].toLowerCase().trim()].translate+'", document.querySelector(\'[data-event="'+s+'"]\'), "'+f.button_size+'")'),m.dataset.event="prev",m.dataset.page=Math.ceil((s+1)/f.button_limit)+"",m.innerText="◄- "+I.prev,o.appendChild(m)}}}s<1?document.querySelector("#yohoho-loading").style.display="none":1<s&&(g.appendChild(o),a.length>f.button_limit&&showPage(1))})}function showPlayer(e,t,o,a,n,r){window.parent.postMessage({quality:t,translate:o},"*");var i=document.querySelector("#yohoho-loading");i.style.display="block",setTimeout(function(){i.style.display="none"},2e3);var s=document.querySelector("#yohoho-iframe");if(s.style.display="block",e.indexOf("4h0y")+1?httpGetAsync(decodeURIComponent(e),"",function(e,t){s.setAttribute("src","data:text/html;charset=utf-8,"+encodeURIComponent(t))}):s.setAttribute("src",decodeURIComponent(e)),s.setAttribute("class",""),"function"==typeof a.setAttribute){var l=document.querySelectorAll(".yohoho-active");if(l)for(var u=0;u<l.length;u++)l[u].setAttribute("class","");a.setAttribute("class","yohoho-active")}var d=n||document.querySelector("#yohoho-buttons");r=r?parseFloat(r):1,d&&(d.style=d.style?d.style:{},d.style.right="0",setTimeout(function(){var e=setInterval(function(){parseInt(d.style.right)>-parseInt(d.offsetWidth)+30*r?d.style.right=parseInt(d.style.right)-1+"px":clearInterval(e)},5)},5e3))}function showPage(e){var t=document.querySelectorAll("div[data-page]");if(t)for(var o=0;o<t.length;o++)t[o].style.display="none";var a=document.querySelectorAll('div[data-page="'+e+'"]');if(a)for(var n=0;n<a.length;n++)a[n].style.display="block";var r=document.querySelector("#yohoho-buttons");r&&(r.style.right=0)}function httpGetAsync(e,t,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&o(tryParseJSON(a.responseText),a.responseText)},a.open("POST",e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(t)}function tryParseJSON(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(e){}return{}}function fullscreen(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=document.querySelector("#yohoho-iframe");e?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function resize(){var e=document.querySelector("#yohoho-iframe");if(e&&e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.offsetWidth){var t=parseInt(e.parentNode.parentNode.offsetWidth);e.style.width=t+"px",e.setAttribute("width",t.toString()),e.parentNode.style.width=t+"px"}}document.addEventListener("DOMContentLoaded",ahoy_yo);